[{"/home/mirko/projects/faster-than.mmaelicke.de/src/index.tsx":"1","/home/mirko/projects/faster-than.mmaelicke.de/src/reportWebVitals.ts":"2","/home/mirko/projects/faster-than.mmaelicke.de/src/App.tsx":"3","/home/mirko/projects/faster-than.mmaelicke.de/src/store/store.tsx":"4","/home/mirko/projects/faster-than.mmaelicke.de/src/firebase-config.ts":"5","/home/mirko/projects/faster-than.mmaelicke.de/src/store/reducers.tsx":"6","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Page.tsx":"7","/home/mirko/projects/faster-than.mmaelicke.de/src/store/actions/actionTypes.ts":"8","/home/mirko/projects/faster-than.mmaelicke.de/src/store/actions/index.ts":"9","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Add-Form/Add-Form.tsx":"10","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Details/Details.tsx":"11","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/RunPlot/RunPlot.tsx":"12","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Header/Header.tsx":"13","/home/mirko/projects/faster-than.mmaelicke.de/src/store/actions/dataActions.ts":"14","/home/mirko/projects/faster-than.mmaelicke.de/src/store/actions/firebaseActions.ts":"15","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Details/RunStats.tsx":"16","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/RunPlot/BarTimeline.tsx":"17","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/RunPlot/MainScatter.tsx":"18","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Add-Form/Add-Run/Add-Run.tsx":"19","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Add-Form/Login/Login.tsx":"20","/home/mirko/projects/faster-than.mmaelicke.de/src/components/ShowLastFilter.tsx":"21","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Details/TeamStats.tsx":"22","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Details/TeamStatsPlot.tsx":"23"},{"size":595,"mtime":1614171185002,"results":"24","hashOfConfig":"25"},{"size":425,"mtime":1614171185002,"results":"26","hashOfConfig":"25"},{"size":571,"mtime":1614171184998,"results":"27","hashOfConfig":"25"},{"size":377,"mtime":1614171185002,"results":"28","hashOfConfig":"25"},{"size":345,"mtime":1614171185002,"results":"29","hashOfConfig":"25"},{"size":1648,"mtime":1614171185002,"results":"30","hashOfConfig":"25"},{"size":1411,"mtime":1614787033839,"results":"31","hashOfConfig":"25"},{"size":128,"mtime":1614171185002,"results":"32","hashOfConfig":"25"},{"size":92,"mtime":1614171185002,"results":"33","hashOfConfig":"25"},{"size":1080,"mtime":1614171184998,"results":"34","hashOfConfig":"25"},{"size":1921,"mtime":1614787730694,"results":"35","hashOfConfig":"25"},{"size":1499,"mtime":1614171185002,"results":"36","hashOfConfig":"25"},{"size":1545,"mtime":1614842907260,"results":"37","hashOfConfig":"25"},{"size":302,"mtime":1614171185002,"results":"38","hashOfConfig":"25"},{"size":1604,"mtime":1614171185002,"results":"39","hashOfConfig":"25"},{"size":3726,"mtime":1614171185002,"results":"40","hashOfConfig":"25"},{"size":1741,"mtime":1614693891497,"results":"41","hashOfConfig":"25"},{"size":2649,"mtime":1615316385303,"results":"42","hashOfConfig":"25"},{"size":4768,"mtime":1615017054533,"results":"43","hashOfConfig":"25"},{"size":673,"mtime":1614171184998,"results":"44","hashOfConfig":"25"},{"size":2559,"mtime":1614171185002,"results":"45","hashOfConfig":"25"},{"size":3291,"mtime":1615014604238,"results":"46","hashOfConfig":"25"},{"size":3084,"mtime":1615015690739,"results":"47","hashOfConfig":"25"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"1enthl",{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"63","messages":"64","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"65","messages":"66","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"67","messages":"68","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"69","messages":"70","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"71","messages":"72","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"73","messages":"74","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"75","messages":"76","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"77","messages":"78","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"79","messages":"80","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"81","messages":"82","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"83","messages":"84","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"87","messages":"88","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},{"filePath":"91","messages":"92","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93","usedDeprecatedRules":"50"},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"50"},"/home/mirko/projects/faster-than.mmaelicke.de/src/index.tsx",[],["96","97"],"/home/mirko/projects/faster-than.mmaelicke.de/src/reportWebVitals.ts",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/App.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/store/store.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/firebase-config.ts",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/store/reducers.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Page.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/store/actions/actionTypes.ts",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/store/actions/index.ts",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Add-Form/Add-Form.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Details/Details.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/Page/RunPlot/RunPlot.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Header/Header.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/store/actions/dataActions.ts",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/store/actions/firebaseActions.ts",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Details/RunStats.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/Page/RunPlot/BarTimeline.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/Page/RunPlot/MainScatter.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Add-Form/Add-Run/Add-Run.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Add-Form/Login/Login.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/components/ShowLastFilter.tsx",[],"/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Details/TeamStats.tsx",["98"],"import React, { useEffect, useState } from 'react'\nimport { DatePicker } from '@material-ui/pickers';\nimport { Grid } from '@material-ui/core';\nimport { Run } from '../../models/run.model';\nimport { TeamStatsPlot } from './TeamStatsPlot';\n\n// const THRESH = {};\n\ninterface TeamStatsProps {\n    runs: Run[];\n}\n\nexport interface MonthStats {\n    date: Date;\n    streak5km: number;\n    streak10km: number;\n    totalKm: number;\n    totoalTime: number;\n}\n\nconst getStats = (runs: Run[], filterMonth: Date): MonthStats => {\n    // get the runs of the current month\n    const filteredRuns = runs.filter(r => {\n        const d = new Date((r.date as any).seconds * 1000);\n        return d.getFullYear() === filterMonth.getFullYear() && d.getMonth() === filterMonth.getMonth() \n    });\n\n    // calculate the stats\n    const streaks5: number[] = [];\n    const streaks10: number[] = [];\n    let streak5 = 0;\n    let streak10 = 0;\n    let dist = 0;\n    let time = 0;\n    \n    // go for each day\n    const lastDay = new Date(filterMonth.getFullYear(), filterMonth.getMonth() + 1, 0).getDate();\n    for (let day = 1; day <= lastDay; day++) {\n        // get todays runs\n        const runs = filteredRuns.filter(r => new Date((r.date as any).seconds * 1000).getDate() === day);\n        if (runs.length > 0) {\n            const d = runs.map(r => r.distance).reduce((prev, curr) => prev + curr, 0);\n            const t = runs.map(r => r.timeMin).reduce((prev, curr) => prev + curr, 0);\n            dist += d;\n            time += t;\n            if (d >= 5) streak5 += 1;\n            if (d >= 10) streak10 += 1;\n        } else {\n            streaks5.push(streak5);\n            streak5 = 0;\n            streaks10.push(streak10);\n            streak10 = 0;\n        }\n    }\n\n    return {\n        date: filterMonth,\n        streak5km: Math.max(...streaks5),\n        streak10km: Math.max(...streaks10),\n        totalKm: dist,\n        totoalTime: time\n    };\n};\n\nexport const TeamStats: React.FC<TeamStatsProps> = props => {\n    const [date, changeDate] = useState(new Date());\n    const [stats, changeStats] = useState({} as any);\n    const [lastStats, changeLastStats] = useState({} as any);\n\n    // calculate\n    const update = (date: Date) => {\n        // calculate the new stats\n        const newStats = getStats(props.runs, date);\n        const prevMonth = new Date(date.getFullYear(), date.getMonth() - 1, date.getDate());\n        const lastStats = getStats(props.runs, prevMonth);\n        \n        changeStats(newStats);\n        changeLastStats(lastStats);\n\n        // update the date\n        changeDate(date);\n    }\n\n    // run the update function at least once\n    useEffect(() => update(new Date()), [props.runs]);\n    \n    return (\n        <Grid container spacing={3}>\n            \n            <Grid item xs={12} md={4}>\n                <DatePicker\n                    variant=\"static\"\n                    openTo=\"month\"\n                    views={['year', 'month']}\n                    value={date}\n                    onChange={d => update(new Date((d as any)))} \n                />\n            </Grid>\n            \n            <Grid item xs={12} md={8} style={{padding: '0.6rem'}}>\n                <TeamStatsPlot currentStats={stats} lastStats={lastStats} />\n            </Grid>\n\n        </Grid>\n    );\n}","/home/mirko/projects/faster-than.mmaelicke.de/src/Page/Details/TeamStatsPlot.tsx",[],{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","replacedBy":"102"},{"ruleId":"103","severity":1,"message":"104","line":85,"column":41,"nodeType":"105","endLine":85,"endColumn":53,"suggestions":"106"},"no-native-reassign",["107"],"no-negated-in-lhs",["108"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'update'. Either include it or remove the dependency array.","ArrayExpression",["109"],"no-global-assign","no-unsafe-negation",{"desc":"110","fix":"111"},"Update the dependencies array to be: [props.runs, update]",{"range":"112","text":"113"},[2683,2695],"[props.runs, update]"]